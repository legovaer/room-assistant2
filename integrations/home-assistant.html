<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.51">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="manifest" href="/manifest.webmanifest"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#2d89ef"><meta name="msapplication-TileColor" content="#2d89ef"><meta name="theme-color" content="#ffffff"><title>Home Assistant Core | room-assistant</title><meta name="description" content="A companion software to bring your home automation to the room-level for presence detection and more.">
    <link rel="modulepreload" href="/assets/app.460bda5f.js"><link rel="modulepreload" href="/assets/home-assistant.html.8855d8f4.js"><link rel="modulepreload" href="/assets/home-assistant.html.e23c1258.js"><link rel="prefetch" href="/assets/index.html.e86e2109.js"><link rel="prefetch" href="/assets/privacy.html.aec49043.js"><link rel="prefetch" href="/assets/index.html.519b627c.js"><link rel="prefetch" href="/assets/api.html.84001380.js"><link rel="prefetch" href="/assets/cli.html.15e21aa8.js"><link rel="prefetch" href="/assets/cluster.html.4270cb58.js"><link rel="prefetch" href="/assets/configuration.html.9b436b2a.js"><link rel="prefetch" href="/assets/entities.html.448d1039.js"><link rel="prefetch" href="/assets/installation.html.24efa7ef.js"><link rel="prefetch" href="/assets/monitoring.html.03032979.js"><link rel="prefetch" href="/assets/quickstart-ansible.html.a2ad8d21.js"><link rel="prefetch" href="/assets/quickstart-docker.html.8890cc11.js"><link rel="prefetch" href="/assets/quickstart-pi-zero-w.html.02f13060.js"><link rel="prefetch" href="/assets/quickstart-pi.html.c7bbb54c.js"><link rel="prefetch" href="/assets/upgrading.html.4185f9b6.js"><link rel="prefetch" href="/assets/index.html.e54b0833.js"><link rel="prefetch" href="/assets/bluetooth-classic.html.7463a8b8.js"><link rel="prefetch" href="/assets/bluetooth-low-energy.html.3778e5fb.js"><link rel="prefetch" href="/assets/gpio.html.cb1cf411.js"><link rel="prefetch" href="/assets/grid-eye.html.cb19f085.js"><link rel="prefetch" href="/assets/mqtt.html.0d1e5bce.js"><link rel="prefetch" href="/assets/omron-d6t.html.3d75ba7c.js"><link rel="prefetch" href="/assets/shell.html.14e9643a.js"><link rel="prefetch" href="/assets/xiaomi-mi.html.17fcbc3e.js"><link rel="prefetch" href="/assets/404.html.d2dc3323.js"><link rel="prefetch" href="/assets/index.html.1f83cbde.js"><link rel="prefetch" href="/assets/privacy.html.a179d30a.js"><link rel="prefetch" href="/assets/index.html.63bb2af5.js"><link rel="prefetch" href="/assets/api.html.1567914c.js"><link rel="prefetch" href="/assets/cli.html.c60f21a9.js"><link rel="prefetch" href="/assets/cluster.html.85f1e18f.js"><link rel="prefetch" href="/assets/configuration.html.41d5e778.js"><link rel="prefetch" href="/assets/entities.html.a3816526.js"><link rel="prefetch" href="/assets/installation.html.b822eaa3.js"><link rel="prefetch" href="/assets/monitoring.html.b51f4999.js"><link rel="prefetch" href="/assets/quickstart-ansible.html.f913ec63.js"><link rel="prefetch" href="/assets/quickstart-docker.html.e4d99629.js"><link rel="prefetch" href="/assets/quickstart-pi-zero-w.html.2b1625a9.js"><link rel="prefetch" href="/assets/quickstart-pi.html.af125842.js"><link rel="prefetch" href="/assets/upgrading.html.fe7bfa7f.js"><link rel="prefetch" href="/assets/index.html.6f994ea5.js"><link rel="prefetch" href="/assets/bluetooth-classic.html.2fc12eb4.js"><link rel="prefetch" href="/assets/bluetooth-low-energy.html.4d921c17.js"><link rel="prefetch" href="/assets/gpio.html.baf39f46.js"><link rel="prefetch" href="/assets/grid-eye.html.d4a02dab.js"><link rel="prefetch" href="/assets/mqtt.html.fcd45ef7.js"><link rel="prefetch" href="/assets/omron-d6t.html.dba0cede.js"><link rel="prefetch" href="/assets/shell.html.483b3f8a.js"><link rel="prefetch" href="/assets/xiaomi-mi.html.ee432a3e.js"><link rel="prefetch" href="/assets/404.html.f7d872cf.js">
    <link rel="stylesheet" href="/assets/style.0c07b545.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><!----><span class="site-name">room-assistant</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><!----><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><!----><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">Home Assistant Core <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/integrations/home-assistant.html#requirements" class="router-link-active router-link-exact-active sidebar-item" aria-label="Requirements"><!--[--><!--]--> Requirements <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/integrations/home-assistant.html#settings" class="router-link-active router-link-exact-active sidebar-item" aria-label="Settings"><!--[--><!--]--> Settings <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/integrations/home-assistant.html#mqtt-options" class="router-link-active router-link-exact-active sidebar-item" aria-label="MQTT Options"><!--[--><!--]--> MQTT Options <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="home-assistant-core" tabindex="-1"><a class="header-anchor" href="#home-assistant-core" aria-hidden="true">#</a> Home Assistant Core</h1><p><strong>Integration Key:</strong> <code>homeAssistant</code></p><p>The <a href="https://www.home-assistant.io" target="_blank" rel="noopener noreferrer">Home Assistant Core<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> integration shares data with the home automation software over <a href="https://www.home-assistant.io/integrations/mqtt/" target="_blank" rel="noopener noreferrer">MQTT<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.</p><h2 id="requirements" tabindex="-1"><a class="header-anchor" href="#requirements" aria-hidden="true">#</a> Requirements</h2><div class="custom-container tip"><p class="custom-container-title">TIP</p><p><strong>Running on Home Assistant OS?</strong> If you are also using the MQTT server add-on room-assistant will automatically pick up the correct credentials - no configuration needed!</p></div><p>You will need to setup an MQTT broker that both your instance of Home Assistant Core and all instances of room-assistant can connect to. If you are using Home Assistant OS you can install the <a href="https://github.com/home-assistant/hassio-addons/tree/master/mosquitto" target="_blank" rel="noopener noreferrer">official mosquitto add-on<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> to get started quickly.</p><p>room-assistant makes use of the <a href="https://www.home-assistant.io/docs/mqtt/discovery/" target="_blank" rel="noopener noreferrer">MQTT auto discovery<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> features provided by Home Assistant Core to automatically create all entities for you. It is strongly recommended that you enable this feature when setting up the MQTT integration in Home Assistant Core.</p><h2 id="settings" tabindex="-1"><a class="header-anchor" href="#settings" aria-hidden="true">#</a> Settings</h2><table><thead><tr><th>Name</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>mqttUrl</code></td><td>String</td><td><code>mqtt://localhost:1883</code></td><td>Connection string for your MQTT broker.</td></tr><tr><td><code>mqttOptions</code></td><td><a href="#mqtt-options">MQTT Options</a></td><td></td><td>Additional options for the MQTT connection.</td></tr><tr><td><code>sendAttributes</code></td><td>Boolean</td><td><code>true</code></td><td>Whether entity attributes should be forwarded to Home Assistant or not. May be disabled to reduce the number of messages that Home Assistant needs to process.</td></tr><tr><td><code>sendMqttRoom</code></td><td>Boolean</td><td><code>false</code></td><td>Whether entities with distances should publish them in the <a href="https://www.home-assistant.io/integrations/mqtt_room/" target="_blank" rel="noopener noreferrer">MQTT Room integration<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> format or not.</td></tr><tr><td><code>discoveryPrefix</code></td><td>String</td><td><code>homeassistant</code></td><td>The prefix for the discovery topic that Home Assistant will watch.</td></tr><tr><td><code>mqttRoomPrefix</code></td><td>String</td><td><code>room-assistant/mqtt-room</code></td><td>The topic prefix that will be used for the <a href="https://www.home-assistant.io/integrations/mqtt_room/" target="_blank" rel="noopener noreferrer">MQTT Room<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> messages, should match <code>state_topic</code> in Home Assistant.</td></tr></tbody></table><h3 id="mqtt-options" tabindex="-1"><a class="header-anchor" href="#mqtt-options" aria-hidden="true">#</a> MQTT Options</h3><table><thead><tr><th>Name</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>username</code></td><td>String</td><td></td><td>Username for authentication</td></tr><tr><td><code>password</code></td><td>String</td><td></td><td>Password for authentication</td></tr><tr><td><code>rejectUnauthorized</code></td><td>Boolean</td><td><code>true</code></td><td>Whether MQTTS connections should fail for invalid certificates or not. Set this to <code>false</code> if you are using a self-signed certificate and connect via TLS.</td></tr></tbody></table><p>Some of these settings may also be configured as environment variables, using <code>RA_HOME_ASSISTANT_MQTT_URL</code>, <code>RA_HOME_ASSISTANT_MQTT_USERNAME</code> and <code>RA_HOME_ASSISTANT_MQTT_PASSWORD</code>.</p><details class="custom-container details"><summary>Example Config</summary><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">global</span><span class="token punctuation">:</span>
  <span class="token key atrule">integrations</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> homeAssistant
<span class="token key atrule">homeAssistant</span><span class="token punctuation">:</span>
  <span class="token key atrule">mqttUrl</span><span class="token punctuation">:</span> mqtt<span class="token punctuation">:</span>//homeassistant.local<span class="token punctuation">:</span><span class="token number">1883</span>
  <span class="token key atrule">mqttOptions</span><span class="token punctuation">:</span>
    <span class="token key atrule">username</span><span class="token punctuation">:</span> youruser
    <span class="token key atrule">password</span><span class="token punctuation">:</span> yourpass
  <span class="token key atrule">discoveryPrefix</span><span class="token punctuation">:</span> homeassistant
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 49699333+dependabot[bot]@users.noreply.github.com">dependabot[bot]</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.460bda5f.js" defer></script>
  </body>
</html>
