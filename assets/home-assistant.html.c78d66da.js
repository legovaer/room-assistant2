import{_ as o,r as a,o as i,c as l,a as t,b as e,d as s,e as r}from"./app.86f309b6.js";const d={},c=t("h1",{id:"home-assistant-core",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#home-assistant-core","aria-hidden":"true"},"#"),e(" Home Assistant Core")],-1),u=t("p",null,[t("strong",null,"Integration Key:"),e(),t("code",null,"homeAssistant")],-1),h={href:"https://www.home-assistant.io",target:"_blank",rel:"noopener noreferrer"},m={href:"https://www.home-assistant.io/integrations/mqtt/",target:"_blank",rel:"noopener noreferrer"},p=t("h2",{id:"requirements",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#requirements","aria-hidden":"true"},"#"),e(" Requirements")],-1),_=t("div",{class:"custom-container tip"},[t("p",{class:"custom-container-title"},"TIP"),t("p",null,[t("strong",null,"Running on Home Assistant OS?"),e(" If you are also using the MQTT server add-on room-assistant will automatically pick up the correct credentials - no configuration needed!")])],-1),f={href:"https://github.com/home-assistant/hassio-addons/tree/master/mosquitto",target:"_blank",rel:"noopener noreferrer"},b={href:"https://www.home-assistant.io/docs/mqtt/discovery/",target:"_blank",rel:"noopener noreferrer"},g=t("h2",{id:"settings",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#settings","aria-hidden":"true"},"#"),e(" Settings")],-1),T=t("thead",null,[t("tr",null,[t("th",null,"Name"),t("th",null,"Type"),t("th",null,"Default"),t("th",null,"Description")])],-1),k=t("tr",null,[t("td",null,[t("code",null,"mqttUrl")]),t("td",null,"String"),t("td",null,[t("code",null,"mqtt://localhost:1883")]),t("td",null,"Connection string for your MQTT broker.")],-1),y=t("tr",null,[t("td",null,[t("code",null,"mqttOptions")]),t("td",null,[t("a",{href:"#mqtt-options"},"MQTT Options")]),t("td"),t("td",null,"Additional options for the MQTT connection.")],-1),v=t("tr",null,[t("td",null,[t("code",null,"sendAttributes")]),t("td",null,"Boolean"),t("td",null,[t("code",null,"true")]),t("td",null,"Whether entity attributes should be forwarded to Home Assistant or not. May be disabled to reduce the number of messages that Home Assistant needs to process.")],-1),w=t("td",null,[t("code",null,"sendMqttRoom")],-1),A=t("td",null,"Boolean",-1),S=t("td",null,[t("code",null,"false")],-1),q={href:"https://www.home-assistant.io/integrations/mqtt_room/",target:"_blank",rel:"noopener noreferrer"},M=t("tr",null,[t("td",null,[t("code",null,"discoveryPrefix")]),t("td",null,"String"),t("td",null,[t("code",null,"homeassistant")]),t("td",null,"The prefix for the discovery topic that Home Assistant will watch.")],-1),x=t("td",null,[t("code",null,"mqttRoomPrefix")],-1),Q=t("td",null,"String",-1),H=t("td",null,[t("code",null,"room-assistant/mqtt-room")],-1),R={href:"https://www.home-assistant.io/integrations/mqtt_room/",target:"_blank",rel:"noopener noreferrer"},I=t("code",null,"state_topic",-1),N=r(`<h3 id="mqtt-options" tabindex="-1"><a class="header-anchor" href="#mqtt-options" aria-hidden="true">#</a> MQTT Options</h3><table><thead><tr><th>Name</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>username</code></td><td>String</td><td></td><td>Username for authentication</td></tr><tr><td><code>password</code></td><td>String</td><td></td><td>Password for authentication</td></tr><tr><td><code>rejectUnauthorized</code></td><td>Boolean</td><td><code>true</code></td><td>Whether MQTTS connections should fail for invalid certificates or not. Set this to <code>false</code> if you are using a self-signed certificate and connect via TLS.</td></tr></tbody></table><p>Some of these settings may also be configured as environment variables, using <code>RA_HOME_ASSISTANT_MQTT_URL</code>, <code>RA_HOME_ASSISTANT_MQTT_USERNAME</code> and <code>RA_HOME_ASSISTANT_MQTT_PASSWORD</code>.</p><details class="custom-container details"><summary>Example Config</summary><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">global</span><span class="token punctuation">:</span>
  <span class="token key atrule">integrations</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> homeAssistant
<span class="token key atrule">homeAssistant</span><span class="token punctuation">:</span>
  <span class="token key atrule">mqttUrl</span><span class="token punctuation">:</span> mqtt<span class="token punctuation">:</span>//homeassistant.local<span class="token punctuation">:</span><span class="token number">1883</span>
  <span class="token key atrule">mqttOptions</span><span class="token punctuation">:</span>
    <span class="token key atrule">username</span><span class="token punctuation">:</span> youruser
    <span class="token key atrule">password</span><span class="token punctuation">:</span> yourpass
  <span class="token key atrule">discoveryPrefix</span><span class="token punctuation">:</span> homeassistant
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details>`,4);function O(E,C){const n=a("ExternalLinkIcon");return i(),l("div",null,[c,u,t("p",null,[e("The "),t("a",h,[e("Home Assistant Core"),s(n)]),e(" integration shares data with the home automation software over "),t("a",m,[e("MQTT"),s(n)]),e(".")]),p,_,t("p",null,[e("You will need to setup an MQTT broker that both your instance of Home Assistant Core and all instances of room-assistant can connect to. If you are using Home Assistant OS you can install the "),t("a",f,[e("official mosquitto add-on"),s(n)]),e(" to get started quickly.")]),t("p",null,[e("room-assistant makes use of the "),t("a",b,[e("MQTT auto discovery"),s(n)]),e(" features provided by Home Assistant Core to automatically create all entities for you. It is strongly recommended that you enable this feature when setting up the MQTT integration in Home Assistant Core.")]),g,t("table",null,[T,t("tbody",null,[k,y,v,t("tr",null,[w,A,S,t("td",null,[e("Whether entities with distances should publish them in the "),t("a",q,[e("MQTT Room integration"),s(n)]),e(" format or not.")])]),M,t("tr",null,[x,Q,H,t("td",null,[e("The topic prefix that will be used for the "),t("a",R,[e("MQTT Room"),s(n)]),e(" messages, should match "),I,e(" in Home Assistant.")])])])]),N])}const P=o(d,[["render",O],["__file","home-assistant.html.vue"]]);export{P as default};
