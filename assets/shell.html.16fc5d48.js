import{_ as l,r as o,o as d,c as i,a as n,b as t,d as s,e as a}from"./app.56088427.js";const r={},c=a('<h1 id="shell-commands" tabindex="-1"><a class="header-anchor" href="#shell-commands" aria-hidden="true">#</a> Shell Commands</h1><p><strong>Integration Key:</strong> <code>shell</code></p><p>The Shell integration allows you to execute any shell command on a schedule and use the output as the state of a sensor. This is useful for passing metrics about the machine that room-assistant is running on or for integrating sensors that do not have native support.</p><p>The commands are run with the same user that room-assistant is running with, so make sure your permissions are setup accordingly.</p><h2 id="settings" tabindex="-1"><a class="header-anchor" href="#settings" aria-hidden="true">#</a> Settings</h2><table><thead><tr><th>Name</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>sensors</code></td><td><a href="#sensors">Shell Sensors</a></td><td></td><td>An array of shell sensor definitions.</td></tr><tr><td><code>switches</code></td><td><a href="#switches">Shell Switches</a></td><td></td><td>An array of shell switch definitions.</td></tr></tbody></table><h3 id="sensors" tabindex="-1"><a class="header-anchor" href="#sensors" aria-hidden="true">#</a> Sensors</h3>',7),u=n("thead",null,[n("tr",null,[n("th",null,"Name"),n("th",null,"Type"),n("th",null,"Default"),n("th",null,"Description")])],-1),h=n("tr",null,[n("td",null,[n("code",null,"name")]),n("td",null,"String"),n("td"),n("td",null,"Friendly name of this sensor.")],-1),p=n("tr",null,[n("td",null,[n("code",null,"command")]),n("td",null,"String"),n("td"),n("td",null,"Shell command that should be executed.")],-1),m=n("tr",null,[n("td",null,[n("code",null,"regex")]),n("td",null,"String"),n("td"),n("td",null,"Regex that is used for parsing the stdout output of the command, if configured. Otherwise the complete output is used as the state.")],-1),k=n("td",null,[n("code",null,"cron")],-1),g=n("td",null,"String",-1),f=n("td",null,null,-1),_={href:"https://www.npmjs.com/package/node-cron#cron-syntax",target:"_blank",rel:"noopener noreferrer"},b=n("tr",null,[n("td",null,[n("code",null,"icon")]),n("td",null,"String"),n("td"),n("td",null,"Icon that the sensor should be represented with in Home Assistant Core.")],-1),v=n("tr",null,[n("td",null,[n("code",null,"unitOfMeasurement")]),n("td",null,"String"),n("td"),n("td",null,"Unit of measurement of the sensor state, leave empty if none.")],-1),y=n("td",null,[n("code",null,"deviceClass")],-1),w=n("td",null,"String",-1),S=n("td",null,null,-1),x={href:"https://www.home-assistant.io/integrations/sensor/#device-class",target:"_blank",rel:"noopener noreferrer"},C=a(`<h3 id="switches" tabindex="-1"><a class="header-anchor" href="#switches" aria-hidden="true">#</a> Switches</h3><table><thead><tr><th>Name</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>name</code></td><td>String</td><td></td><td>Friendly name of this switch.</td></tr><tr><td><code>onCommand</code></td><td>String</td><td></td><td>Shell command that should be executed when the switch is turned on.</td></tr><tr><td><code>offCommand</code></td><td>String</td><td></td><td>Shell command that should be executed when the switch is turned off.</td></tr><tr><td><code>icon</code></td><td>String</td><td></td><td>Icon that the sensor should be represented with in Home Assistant Core.</td></tr></tbody></table><details class="custom-container details"><summary>Example Config</summary><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">global</span><span class="token punctuation">:</span>
  <span class="token key atrule">integrations</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> shell
<span class="token key atrule">shell</span><span class="token punctuation">:</span>
  <span class="token key atrule">sensors</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Kitchen Wifi Strength
      <span class="token key atrule">command</span><span class="token punctuation">:</span> <span class="token string">&#39;iwconfig wlan0 | grep -i quality&#39;</span>
      <span class="token key atrule">regex</span><span class="token punctuation">:</span> <span class="token string">&#39;Signal level=(-?[0-9]+) dBm&#39;</span>
      <span class="token key atrule">cron</span><span class="token punctuation">:</span> <span class="token string">&#39;* * * * *&#39;</span>
      <span class="token key atrule">icon</span><span class="token punctuation">:</span> mdi<span class="token punctuation">:</span>wifi
      <span class="token key atrule">unitOfMeasurement</span><span class="token punctuation">:</span> dBm
      <span class="token key atrule">deviceClass</span><span class="token punctuation">:</span> signal_strength
  <span class="token key atrule">switches</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Onboard LED
      <span class="token key atrule">onCommand</span><span class="token punctuation">:</span> <span class="token string">&#39;echo mmc0 | sudo tee /sys/class/leds/led0/trigger&#39;</span>
      <span class="token key atrule">offCommand</span><span class="token punctuation">:</span> <span class="token string">&#39;echo none | sudo tee /sys/class/leds/led0/trigger &amp;&amp; echo 1 | sudo tee /sys/class/leds/led0/brightness&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details>`,3);function D(N,T){const e=o("ExternalLinkIcon");return d(),i("div",null,[c,n("table",null,[u,n("tbody",null,[h,p,m,n("tr",null,[k,g,f,n("td",null,[n("a",_,[t("Cron pattern"),s(e)]),t(" describing the schedule that this command should be run with.")])]),b,v,n("tr",null,[y,w,S,n("td",null,[t("Home Assistant Core "),n("a",x,[t("device class"),s(e)]),t(" to be used for this sensor.")])])])]),C])}const B=l(r,[["render",D],["__file","shell.html.vue"]]);export{B as default};
